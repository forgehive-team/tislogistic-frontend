import{f as F,t as C,e as c,a as p,s as _,M,b,m as R,q as k,x as z,a4 as B,D,E as P,X as j,_ as E}from"./swiper-vue.2993ddf4.js";const H="--vc-auto-duration",G=`height var(${H}) cubic-bezier(0.33, 1, 0.68, 1)`,r={padding:0,border:0,margin:0};function $(t){return{height:`${(t==null?void 0:t.scrollHeight)??0}px`}}function q(t){if(!t)return{};const{transition:n}=getComputedStyle(t);return n==="all 0s ease 0s"?{transition:G}:{transition:n}}function A(t){if(!t)return!0;const{transition:n}=getComputedStyle(t);return window.matchMedia("(prefers-reduced-motion: reduce)").matches||n.includes("none")||n.includes("height 0s")}F({inheritAttrs:!0});const T=F({__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(t,{emit:n}){const v=t,u=C(v,"when"),i=C(v,"baseHeight"),d=c(()=>({overflow:"hidden",height:`${i.value}px`})),h=c(()=>({...r,...i.value===0?{display:"none"}:d.value})),a=p(null),o=p(u.value?"expanded":"collapsed"),e=_(u.value?r:h.value),f=p(0),m=c(()=>({[H]:`${f.value}ms`}));function g(){a.value&&(u.value||i.value>0)&&(f.value=function(l=0){if(l===0)return 0;const s=l/36;return Math.round(10*(4+15*s**.25+s/5))}(a.value.scrollHeight-i.value))}function x(){e.value=r,o.value="expanded",n("expanded")}function y(){e.value=h.value,o.value="collapsed",n("collapsed")}function S(l){var s,w;l.target===a.value&&l.propertyName==="height"&&(u.value?((s=a.value)==null?void 0:s.scrollHeight)===parseFloat(l.target.style.height)&&x():((w=a.value)==null?void 0:w.style.height)===`${i.value}px`&&y())}return M(g),b(u,l=>{if(l){if(A(a.value))return x();e.value={...r,...d.value,willChange:"height"},requestAnimationFrame(()=>{g(),e.value={...e.value,...m.value},requestAnimationFrame(()=>{e.value={...e.value,...$(a.value),...q(a.value)},o.value="expanding",n("expand")})})}else{if(A(a.value))return y();requestAnimationFrame(()=>{e.value={...e.value,...m.value,...$(a.value),willChange:"height"},requestAnimationFrame(()=>{e.value={...e.value,...d.value,...q(a.value)},o.value="collapsing",n("collapse")})})}}),b(i,l=>{u.value||(e.value={...e.value,transitionDuration:"0s",height:`${l}px`})}),(l,s)=>(R(),k(E(v.as),{ref_key:"collapseRef",ref:a,style:j(e.value),onTransitionend:S,"data-collapse":o.value},{default:z(()=>[B(l.$slots,"default",D(P({state:o.value})))]),_:3},40,["style","data-collapse"]))}});export{T as G};
