{"version":3,"file":"contacts-2f59b242.js","sources":["../../../../node_modules/nuxt/dist/app/components/client-only.js","../../../../components/Contacts/BranchInfo.vue","../../../../components/Contacts/CeoQuote.vue","../../../../components/Contacts/TelegramChannel.vue","../../../../pages/contacts.vue"],"sourcesContent":["import { ref, onMounted, defineComponent, createElementBlock, h, createElementVNode } from 'vue'\n\nexport default defineComponent({\n  name: 'ClientOnly',\n  inheritAttrs: false,\n  // eslint-disable-next-line vue/require-prop-types\n  props: ['fallback', 'placeholder', 'placeholderTag', 'fallbackTag'],\n  setup (_, { slots, attrs }) {\n    const mounted = ref(false)\n    onMounted(() => { mounted.value = true })\n    return (props) => {\n      if (mounted.value) { return slots.default?.() }\n      const slot = slots.fallback || slots.placeholder\n      if (slot) { return slot() }\n      const fallbackStr = props.fallback || props.placeholder || ''\n      const fallbackTag = props.fallbackTag || props.placeholderTag || 'span'\n      return createElementBlock(fallbackTag, attrs, fallbackStr)\n    }\n  }\n})\n\nconst cache = new WeakMap()\n\nexport function createClientOnly (component) {\n  if (cache.has(component)) {\n    return cache.get(component)\n  }\n\n  const clone = { ...component }\n\n  if (clone.render) {\n    // override the component render (non script setup component)\n    clone.render = (ctx, ...args) => {\n      if (ctx.mounted$) {\n        const res = component.render(ctx, ...args)\n        return (res.children === null || typeof res.children === 'string')\n          ? createElementVNode(res.type, res.props, res.children, res.patchFlag, res.dynamicProps, res.shapeFlag)\n          : h(res)\n      } else {\n        return h('div', ctx.$attrs ?? ctx._.attrs)\n      }\n    }\n  } else if (clone.template) {\n    // handle runtime-compiler template\n    clone.template = `\n      <template v-if=\"mounted$\">${component.template}</template>\n      <template v-else><div></div></template>\n    `\n  }\n\n  clone.setup = (props, ctx) => {\n    const mounted$ = ref(false)\n    onMounted(() => { mounted$.value = true })\n\n    return Promise.resolve(component.setup?.(props, ctx) || {})\n      .then((setupState) => {\n        return typeof setupState !== 'function'\n          ? { ...setupState, mounted$ }\n          : (...args) => {\n              if (mounted$.value) {\n                const res = setupState(...args)\n                return (res.children === null || typeof res.children === 'string')\n                  ? createElementVNode(res.type, res.props, res.children, res.patchFlag, res.dynamicProps, res.shapeFlag)\n                  : h(res)\n              } else {\n                return h('div', ctx.attrs)\n              }\n            }\n      })\n  }\n\n  cache.set(component, clone)\n\n  return clone\n}\n","<template>\n    <div class=\"branch-info\">\n        <div class=\"info\">\n            <div v-for=\"(item, i) in fields\" :key=\"i\" class=\"item\">\n                <p class=\"label\">{{ item.label }}</p>\n                <p class=\"value\" :class=\"i < 1 && 'value_bold'\">\n                    {{ props.data[item.ref] }}\n                </p>\n            </div>\n        </div>\n        <div v-if=\"showMap\" class=\"map\">\n            <ContactsYandexMap :coordinates=\"props.data.coordinates\" />\n            <div>\n                <h3>{{ props.data.coords }}</h3>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nconst props = defineProps(['data']);\nconst { $texts } = useNuxtApp();\n\nconst showMap = ref(false);\n// prevent yandex from crashing\nonMounted(() => {\n    setTimeout(() => {\n        showMap.value = true;\n    }, 1000);\n});\n\nconst fields = [\n    {\n        label: $texts.phone,\n        ref: 'phone_number',\n    },\n    {\n        label: $texts.address,\n        ref: 'address',\n    },\n    {\n        label: $texts.workingHours,\n        ref: 'schedule',\n    },\n];\n</script>\n\n<style\n    src=\"@/assets/scss/components/Contacts/BranchInfo.scss\"\n    lang=\"scss\"\n    scoped\n></style>\n","<template>\n    <div class=\"ceo-wrapper\">\n        <div class=\"ceo-container\">\n            <div class=\"photo-container photo-container_ceo\" :style=\"ceoPhoto\">\n                <div class=\"person\">\n                    <p class=\"name\">{{ $texts.ceoName }}</p>\n                    <p class=\"ceo\">{{ $texts.ceo }}</p>\n                </div>\n            </div>\n\n            <div class=\"text-container\">\n                <p class=\"quote\">{{ $texts.ceoQuote }}</p>\n\n                <!-- MOBILE ONLY -->\n                <div class=\"mobile-only mobile-content\">\n                    <div class=\"photo-container\" :style=\"ceoPhoto\"></div>\n                    <p class=\"name\">{{ $texts.ceoName }}</p>\n                    <p class=\"ceo\">{{ $texts.ceo }}</p>\n                </div>\n                <!-- /MOBILE-ONLY -->\n            </div>\n        </div>\n\n        <div class=\"ceo-container ceo-container_deputy\">\n            <div\n                class=\"photo-container photo-container_deputy\"\n                :style=\"deputyPhoto\"\n            >\n                <div class=\"person\">\n                    <p class=\"name\">{{ $texts.deputyCeoName }}</p>\n                    <p class=\"ceo\">{{ $texts.deputyCeo }}</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nconst $img = useImage();\nconst ceoImgUrl = $img('images/ceo.png');\nconst ceoPhoto = `background-image: url('${ceoImgUrl}')`;\nconst deputyImgUrl = $img('images/deputy_ceo.png');\nconst deputyPhoto = `background-image: url('${deputyImgUrl}')`;\n</script>\n\n<style\n    src=\"@/assets/scss/components/Contacts/SeoQuote.scss\"\n    lang=\"scss\"\n    scoped\n></style>\n","<template>\n    <div class=\"telegram\">\n        <h2>{{ $texts.telegramTitle }}</h2>\n        <p>{{ $texts.telegramDescription }}</p>\n        <HomeLinkUnderline :to=\"$texts.telegramLink\" :blank=\"true\">{{\n            $texts.goToTelegram\n        }}</HomeLinkUnderline>\n        <nuxt-img src=\"images/telegram.png\" format=\"webp\" quality=\"100\" />\n    </div>\n</template>\n\n<style\n    src=\"@/assets/scss/components/Contacts/TelegramChannel.scss\"\n    lang=\"scss\"\n    scoped\n></style>\n","<template>\r\n    <div>\r\n        <section>\r\n            <div class=\"bg white-theme-only gradient-bg\"></div>\r\n            <SharedBreadCrumbs class=\"breadcrumbs\" />\r\n            <h1>{{ $texts.contacts }}</h1>\r\n        </section>\r\n        <section class=\"city-slider\">\r\n            <ContactsCitySlider\r\n                v-if=\"data\"\r\n                :active-city-id=\"activeCityId\"\r\n                :cities=\"data\"\r\n                @pick-city=\"changeCity\"\r\n            />\r\n        </section>\r\n        <section class=\"branch-info\">\r\n            <ContactsBranchInfo v-if=\"activeCity\" :data=\"activeCity\" />\r\n        </section>\r\n        <section v-if=\"activeCity && activeCity.is_major_branch\">\r\n            <h2>{{ $texts.companyAdministration }}</h2>\r\n            <ContactsCeoQuote class=\"ceo-quote\" />\r\n        </section>\r\n        <section\r\n            v-else-if=\"data && activeCity.employees.length\"\r\n            class=\"administration\"\r\n        >\r\n            <ContactsAdministrationSlider :data=\"activeCity.employees\" />\r\n        </section>\r\n        <section>\r\n            <ContactsTelegramChannel />\r\n        </section>\r\n        <section>\r\n            <div class=\"calculator__back-blur\">\r\n                <SharedDeliveryCalculator />\r\n                <IconsCompanyLogo class=\"logo\" />\r\n            </div>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nconst { $texts } = useNuxtApp();\r\nconst { newsApiBase } = useRuntimeConfig();\r\nconst url = newsApiBase + 'contacts';\r\n// yandex maps crash on page transitions if attrs not fetched\r\ndefinePageMeta({\r\n    breadcrumbTitle: 'Контакты',\r\n});\r\nuseServerSeoMeta({\r\n    title: $texts.contacts,\r\n    ogTitle: $texts.contacts,\r\n    // description: $texts.aboutSubtitle,\r\n    // ogDescription: $texts.aboutSubtitle,\r\n    keywords: $texts.seoHomeKeywords + $texts.seoKeywordsBase,\r\n});\r\n\r\nconst data = ref(null);\r\nconst activeCityId = ref(1);\r\nconst changeCity = (id) => {\r\n    activeCityId.value = id;\r\n};\r\n\r\nconst activeCity = computed(() => {\r\n    return data.value\r\n        ? toRaw(data.value).find((obj) => obj.id === activeCityId.value)\r\n        : null;\r\n});\r\n\r\nonMounted(async () => {\r\n    const res = await $fetch(url);\r\n    const processedRes = res.map((obj) => ({\r\n        ...obj,\r\n        coordinates: Object.values(obj.coordinates).map((str) => Number(str)),\r\n    }));\r\n    data.value = processedRes;\r\n});\r\n</script>\r\n\r\n<style src=\"@/assets/scss/pages/Contacts.scss\" lang=\"scss\" scoped></style>\r\n"],"names":["_push","_ssrRenderComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,MAAA,uBAAA,gCAAA;AAAA,EACA,MAAA;AAAA,EACA,cAAA;AAAA;AAAA,EAEA,OAAA,CAAA,YAAA,eAAA,kBAAA,aAAA;AAAA,EACA,MAAA,GAAA,EAAA,OAAA,MAAA,GAAA;AACA,UAAA,UAAA,IAAA,KAAA;AAEA,WAAA,CAAA,UAAA;;AACA,UAAA,QAAA,OAAA;AAAA,gBAAA,WAAA,YAAA;AAAA,MAAA;AACA,YAAA,OAAA,MAAA,YAAA,MAAA;AACA,UAAA,MAAA;AAAA,eAAA;MAAA;AACA,YAAA,cAAA,MAAA,YAAA,MAAA,eAAA;AACA,YAAA,cAAA,MAAA,eAAA,MAAA,kBAAA;AACA,aAAA,mBAAA,aAAA,OAAA,WAAA;AAAA,IACA;AAAA,EACA;AACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA,UAAA,EAAA,OAAA,IAAA;AAEA,UAAA,UAAA,IAAA,KAAA;AAEA,cAAA,MAAA;AACA,iBAAA,MAAA;AACA,gBAAA,QAAA;AAAA,MACA,GAAA,GAAA;AAAA,IACA,CAAA;AAEA,UAAA,SAAA;AAAA,MACA;AAAA,QACA,OAAA,OAAA;AAAA,QACA,KAAA;AAAA,MACA;AAAA,MACA;AAAA,QACA,OAAA,OAAA;AAAA,QACA,KAAA;AAAA,MACA;AAAA,MACA;AAAA,QACA,OAAA,OAAA;AAAA,QACA,KAAA;AAAA,MACA;AAAA,IACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA,UAAA,OAAA,SAAA;AACA,UAAA,YAAA,KAAA,gBAAA;AACA,UAAA,WAAA,0BAAA;AACA,UAAA,eAAA,KAAA,uBAAA;AACA,UAAA,cAAA,0BAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzCS,QAAA;;IAG6C,IAAA,KAAA,OAAA;AAAA;;;AAC1C,UAAAA,QAAA;;;AAAA,eAAA;AAAA;;;;;;AAEM,QAAAC,mBAAA,qBAAA;AAAA,IAA0B,KAAA;AAAA,IAAc,QAAA;AAAA;;;;;;;;;;;;;;;;ACkC1D,UAAA,EAAA,OAAA,IAAA;AAOA,YAAA;AAAA;;;;;;;IAME,CAAA;AAEF,UAAA,OAAA,IAAA,IAAA;AACA,UAAA,eAAA,IAAA,CAAA;AACA,UAAA,aAAA,CAAA,OAAA;AACA,mBAAA,QAAA;AAAA,IACA;AAEA,UAAA,aAAA,SAAA,MAAA;AACA,aAAA,KAAA,QACA,MAAA,KAAA,KAAA,EAAA,KAAA,CAAA,QAAA,IAAA,OAAA,aAAA,KAAA,IACA;AAAA,IACA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0]}